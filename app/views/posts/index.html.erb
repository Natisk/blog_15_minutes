<%= tag.div class: "w-full" do %>
  <% content_for :title, "Posts" %>

  <%= tag.div class: "flex justify-between items-center" do %>
    <%= tag.h1(class: "font-bold text-4xl") { "Posts" } %>
    <%= link_to "New post", new_post_path, class: "rounded-lg py-3 px-5 bg-blue-600 text-white block font-medium" %>
  <% end %>

  <%= tag.div id: "posts", class: "min-w-full", 
              data: { controller: "search" } do %>
    <%= tag.input type: 'text', id: "search", name: "query", placeholder: "search for posts",
                  class: "border border-gray-300 rounded-lg p-2 focus:ring-blue-500 focus:border-blue-500",
                  data: { action: "input->search#posts" } %>             
    
    <% @posts.each do |post| %>
      <%= tag.div class: "post_wrapper" do %>
        <%= render post, locals: { index_view: true } %>
      <% end %>
    <% end %>
  <% end %>
<% end %>
